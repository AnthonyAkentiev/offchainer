\section{Background}

\subsection{Blockchain}

A new concept for trustless, decentralized and transparent information processing and storage has been developed, introduced and already integrated into several mainstream applications in the last years. Bitcoin, developed by an unknown person or group under the name of Satoshi Nakamoto, led this initiative back in 2008 with its open-source, peer-to-peer network which cryptographically stores records in a chain and serves as a distributed ledger, this was named the Blockchain. The currency in which these operations were valued and paid for with is called Bitcoin, and it was the first decentralized digital currency.
Blockchains are essentially continuously growing lists of information which are linked together and secured using cryptography. The main benefit of Blockchains is that they are designed to be incorruptible, and that the data they hold cannot be unintentionally modified since the entire history of the chain is always stored and recorded on it. It is verified by peers and transparent to each user.
Blockchain technology is a mixture of various computing and economic concepts especially in financial sectors, including peer-to-peer systems, cryptography based, consensus protocols, decentralized storage, decentralized processing and smart contracts. The consolidation of these concepts makes blockchains as another innovation and as a programmable platform and system at the same time. Blockchains consist of specific properties including immutability and transparency of cryptographically-secured and peer-recorded transactions, which have been settled upon by consensus on the network. Being able to build up trustless interactions and business disintermediation continues to be one of the most important objectives of using blockchains.

\subsection{Smart Contracts}
Computer programs that are executed automatically when conditions (terms) of the contract have been met. Understanding smart contracts in a high-level aspect are the same as standard contracts. While a standard contract enforces the terms of a contract (regularly by law), a smart contract actualizes this enforcement of terms through network consensus and online cryptography secure systems. These programs are executed in a trustless and carefully designed way in the network and are referred as Smart Contracts. Ethereum is one of the most known platforms, it empowers developers to create their own smart contracts and creating decentralized applications in the blockchain [\cite{Buterin2014}]. Upon creation of smart contracts, they need to be executed in a secured runtime environment. Therefore, an Ethereum Foundation team project developed the Ethereum Virtual Machine (EVM) which is the runtime enviroment for Smart Contracts. Putting it in simpler understanding, EVM is a virtual machine that continues running on every node in the network and executes smart contracts. In addition, it is isolated that no framework or filesystem access is possible, thus, to ensure determinism. One vital part of the way the EVM works is that each and every task that is executed inside the EVM, is executed by each full node. This is a crucial part of the Ethereum 1.0 consensus model and has the advantage that any contract on the EVM can call some other contract at zero cost, however, it also has its disadvantages that the computational steps on the EVM are exceptionally costly [\cite{Buterin2014}]. In order that the Ethereum network is not being abused or being deliberately attacked, the Ethereum protocol charges a fee for every computational step. The way this cost is paid in Ethereum blockchain i’s through the attribute called gas. The fee or the price of the gas is deteremined on market-basis; meaning it is decided by the economic concept of market where supply meets demand among users and miners' willingness to mine the next block in the network (blockchain). Furthermore, understanding the way how fees work, is that every transaction alongside other attributes must contain the 'gasPrice', which is the fee that the transaction pays per unit of gas, and 'startGas' being the maximum amount of unit of gas that you are willing to pay for a transaction. Therefore, at every execution of transaction a prior evaluation of a transaction cost is done [\cite{Buterin2014}].
				\[ gasCost(Tx)= {gasPrice *  startGas}\]
To understand to which extent the usage of the EVM makes sense, it can mainly incorporate running business logic applications ("if this then that"), confirming signatures and other cryptographic objects [\cite{Ethereum2017}. On the other hand, any utilization which incorporates using EVM as a file storage, platform or anything to do with GUI, it does not fit under the reasonable use due to its tremendous costs. Therefore, usage of on-chain code execution with today's blockchain implementations, implies furthest to be at the stage of doing simple programming functions. Nevertheless, in order to be able to use Smart Contracts, higher level programming languages which compile EVM code have been developed such as Solidity, Serpent, LLL.



\begin{figure}[h]
\centering
\includegraphics[width=0.4\textwidth]{images/smartcontracts.png}
\caption{\label{fig:Smartcontracts}www.blockgeeks.com}
\end{figure}

\input{sections/subsections/0203_integrity_checks}

\subsection{The Concept of Query Completeness} \label{sssec:querycompleteness}

The possibility to query RDBMS is a pivotal functionality of those systems and thus represents a great entry point for efforts to link the technologies of blockchain and RDBMS as targeted in this project. The trust that today’s users of RDBMS put into the correctness of the returned results for their queries could be nullified by the trustlessness offered by the blockchain - trustless query results in a sense. Right now, no user can be sure if her results were not tampered with or only part of the truth was returned to her.
Through an initial slide set from our supervisor Jacob Eberhardt we were introduced to the concept of query completeness which aims at achieving completely trustless queries. The general idea is to use the blockchain and its properties to counteract the four ways a database system could falsify the query results. In detail, the following measurements have to be prevented:
Firstly, the database system could try to not consider all database records while performing the query. This means, a mechanism has to be implemented that verifies that all records were looked at.
Secondly, the database system could try to add records to the query results that were not part of the database before. To counteract, a trustless system needs to show that all considered records were part of the database already and that the returned results are actual database entries.
Thirdly, the database system could try to leave out actual database records that fulfill the query in the returned set of records. Accordingly, we need to proof that that all records that fulfill a user’s query find their way into the results that the user obtains.
Finally, the database system could try to include actual database records that do not fulfill the query in the returned set of records. A trustless system thus has to check that only records that fulfill the query are returned to the user.
Any system that successfully counteracts these ways to counterfeit query results achieves query completeness as defined here. We will demonstrate our approach to implement query completeness in the chapter 4.3.3.3.
