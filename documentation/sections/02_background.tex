\section{Background}

\subsection{Blockchain}

A new concept for trustless, decentralized and transparent information processing and storage has been developed, introduced and already integrated into several mainstream applications in the last years. Bitcoin, developed by an unknown person or group under the name of Satoshi Nakamoto, led this initiative back in 2008 with its open-source, peer-to-peer network which cryptographically stores records in a chain and serves as a distributed ledger, this was named the Blockchain. The currency in which these operations were valued and paid for with is called Bitcoin, and it was the first decentralized digital currency.
Blockchains are essentially continuously growing lists of information which are linked together and secured using cryptography. The main benefit of Blockchains is that they are designed to be incorruptible, and that the data they hold cannot be unintentionally modified without mutual consent since the entire history of the chain is always stored and recorded on it. It is verified by peers and transparent to each user.
Blockchain technology is a mixture of various computing and economic concepts especially in financial sectors, including peer-to-peer systems, cryptography based, consensus protocols, decentralized storage, decentralized processing and smart contracts. The consolidation of these concepts makes blockchains as another innovation and as a programmable platform and system at the same time. Blockchains consist of specific properties including immutability and transparency of cryptographically-secured and peer-recorded transactions, which have been settled upon by consensus on the network. Being able to build up trustless interactions and business disintermediation continues to be one of the most important objectives of using blockchains.

\subsection{Ethereum and Smart Contracts}
Smart contracts are a feature which the Ethereum Blockchain is based on. A smart contract is basically a computer program which can check for the fulfillment of certain preconfigured conditions and control the transfer of funds or other assets between several parties. While a standard contract enforces its terms through its legality, a Smart Contract actualizes this enforcement automatically through network consensus and a cryptographically secured system. The contracts are stored on the Blockchain and thereby serve as a decentralized middle man which stores records, enforces conditions and is completely neutral and transparent. The most popular platform which utilizes this technology is the Ethereum Blockchain. It empowers developers to create their own Smart Contracts and their own decentralized Blockchain applications [\cite{relatedWork38}].  \\

The runtime environment which the Smart Contracts actually run on is called the Ethereum Virtual Machine (EVM), and it continuously runs on every node on the chain, which means that every task which is executed inside of the EVM is run by each node, which is obviously costly, but one of the benefits of this is that each contract can call any other contract at zero cost [\cite{relatedWork38}]. The EVM is also isolated in the sense that no outside framework or file system is accessible, this to ensure determinism. The Smart Contracts themselves are written using the Solidity programming language which was designed for this purpose, and it allows users to create contracts which can be used for voting, crowdfunding, blind auctions, multi-signature wallets and more.\\

In order to ensure that the Ethereum network would not be abused or deliberately attacked, the Ethereum protocol charges a fee for every computational step. The way this cost is paid is through an attribute called ‘gas’. The fee or the price of the gas is determined simply via supply and demand; the users’ willingness to pay vs the price for which the miners' are willing to mine the next block in the Blockchain. Basically the way these fees work is that every transaction contains a 'gasPrice' attribute, which is the price per computational step, and the 'startGas' attribute, being the maximum amount of gas which the sender is willing to pay for the transaction. Therefore, at every execution of a transaction a prior evaluation of the transaction cost is done [\cite{relatedWork38}].\\

				\[ gasCost(Tx)= {gasPrice * startGas}\]
\\
\\
The usage of the EVM for the most part makes sense when it comes to running business logic applications ("if this, then that") such as confirming signatures or other cryptographic objects [\cite{relatedWork39}. On the other hand, any utilization which incorporates using the EVM as a file storage platform or anything GUI related would not be practical due to the tremendous costs.



\begin{figure}[h]
\centering
\includegraphics[width=0.4\textwidth]{images/smartcontracts.png}
\caption{\label{fig:Smartcontracts}www.blockgeeks.com}
\end{figure}

\input{sections/subsections/0203_integrity_checks}

\subsection{The Concept of Query Completeness} \label{sssec:querycompleteness}

The possibility to query RDBMS is a pivotal functionality of those systems and thus represents a great entry point for efforts to link the technologies of blockchain and RDBMS as targeted in this project. The trust that today’s users of RDBMS put into the correctness of the returned results for their queries could be nullified by the trustlessness offered by the blockchain - trustless query results in a sense. Right now, no user can be sure if her results were not tampered with or only part of the truth was returned to her.
Through an initial slide set from our supervisor Jacob Eberhardt we were introduced to the concept of query completeness which aims at achieving completely trustless queries. The general idea is to use the blockchain and its properties to counteract the four ways a database system could falsify the query results. In detail, the following measurements have to be prevented:
Firstly, the database system could try to not consider all database records while performing the query. This means, a mechanism has to be implemented that verifies that all records were looked at.
Secondly, the database system could try to add records to the query results that were not part of the database before. To counteract, a trustless system needs to show that all considered records were part of the database already and that the returned results are actual database entries.
Thirdly, the database system could try to leave out actual database records that fulfill the query in the returned set of records. Accordingly, we need to proof that that all records that fulfill a user’s query find their way into the results that the user obtains.
Finally, the database system could try to include actual database records that do not fulfill the query in the returned set of records. A trustless system thus has to check that only records that fulfill the query are returned to the user.
Any system that successfully counteracts these ways to counterfeit query results achieves query completeness as defined here. We will demonstrate our approach to implement query completeness in the chapter 4.3.3.3.


\newpage
